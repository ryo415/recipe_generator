#!/usr/bin/env ruby
# frozen_string_literal: true

$LOAD_PATH.unshift(File.expand_path("../lib", __dir__))
require "recipe_poster/run"

cmd = ARGV[0] || "once"
case cmd
when "once"
  meal = ARGV[1] || "lunch" # lunch or dinner
  RecipePoster::Run.once(meal)
when "schedule"
  RecipePoster::Run.schedule
else
  warn "Usage: bundle exec ruby bin/recipe_poster once [lunch|dinner]  /  bundle exec ruby bin/recipe_poster schedule"
  exit 1
end
